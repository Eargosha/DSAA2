#pragma once
// Done by Eargosha
#include "binarySearchTree.h"
#include <vector>

// –ê–í–õ - –¥–µ—Ä–µ–≤–æ ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –≤—ã—Å–æ—Ç–µ –¥–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞ : –¥–ª—è –∫–∞–∂–¥–æ–π –µ–≥–æ –≤–µ—Ä—à–∏–Ω—ã –≤—ã—Å–æ—Ç–∞ 
// –µ—ë –¥–≤—É—Ö –ø–æ–¥–¥–µ—Ä–µ–≤—å–µ–≤ —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1.

// –ë–∞–ª–∞–Ω—Å = hright - hleft, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å:
//                                              + –ø–µ—Ä–µ–≤–µ—Å –≤–ø—Ä–∞–≤–æ
//                                              - –ø–µ—Ä–µ–≤–µ—Å –≤–ª–µ–≤–æ
// –û–Ω –Ω–µ—Å–µ—Ç –≤ —Å–µ–±–µ –∑–Ω–∞—á–µ–Ω–∏—è: 
// - -1: –õ–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –≤—ã—à–µ (–≤—ã—Å–æ—Ç–∞ –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –±–æ–ª—å—à–µ).
// - 0: –ü–æ–¥–¥–µ—Ä–µ–≤—å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –≤—ã—Å–æ—Ç—ã.
// - 1: –ü—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –≤—ã—à–µ(–≤—ã—Å–æ—Ç–∞ –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –±–æ–ª—å—à–µ).

// –≠—Ç–æ—Ç –≤–∞—à –±–∞–ª–∞–Ω—Å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤–¥–æ–ª—å –ø—É—Ç–∏ –ø–æ–∏—Å–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ 
// –∏–∑–º–µ–Ω—è—é—â–µ–π –¥–µ—Ä–µ–≤–æ (–≤—Å—Ç–∞–≤–∫–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è)

template <typename T>
// –ö–ª–∞—Å—Å AVLTreeNodule, —É–∑–µ–ª AVLTree, –∏–º–µ–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞
// –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç TreeNodule.
class AVLTreeNodule : public TreeNodule<T> {
public:
    // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞ —É–∑–ª–∞.
    short int balanceFactor;

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    AVLTreeNodule() : TreeNodule<T>(), balanceFactor(0) {}

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ.
    AVLTreeNodule(const T& data) : TreeNodule<T>(data), balanceFactor(0) {}

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ –∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–ª—ã.
    AVLTreeNodule(const T& data, TreeNodule<T>* getLeft(), TreeNodule<T>* getRight()) : TreeNodule<T>(data, getLeft(), getRight()), balanceFactor(0) {}

    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –ª–µ–≤—ã–π TreeNodule –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ AVLTreeNodule
    AVLTreeNodule<T>* getLeft() {
        return static_cast<AVLTreeNodule<T>*>(this->noduleLeft);
    }

    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–∞–≤—ã–π TreeNodule –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ AVLTreeNodule
    AVLTreeNodule<T>* getRight() {
        return static_cast<AVLTreeNodule<T>*>(this->noduleRight);
    }
};

// AVLTree —è–≤–ª—è–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –±–∏–Ω–∞—Ä–Ω—ã–º –¥–µ—Ä–µ–≤–æ–º –ø–æ–∏—Å–∫–∞.
template<typename T>
class AVLTree {
private:
    /// <summary>
    /// –ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞
    /// </summary>
    AVLTreeNodule<T>* root;

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å —Ñ–∞–∫—Ç–æ—Ä–∞ –¥–µ—Ä–µ–≤–∞
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å O(log2(n))
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å —Ñ–∞–∫—Ç–æ—Ä</param>
    void renewBalanceFactor(AVLTreeNodule<T>* node) {
        if (node == nullptr) {
            return;
        }

        int hLeft = getHeight(node->getLeft());
        int hRight = getHeight(node->getRight());
        node->balanceFactor = hLeft - hRight;
    }

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã —É–∑–ª–∞. –í—ã—Å–æ—Ç–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ –¥—É–≥–∞–º
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å O(log2(n))
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—É—á–∞–µ–º –≤—ã—Å–æ—Ç—É</param>
    /// <returns>–í—ã—Å–æ—Ç—É —É–∑–ª–∞</returns>
    int getHeight(AVLTreeNodule<T>* node) {
        if (node == nullptr) {
            return 0;
        }

        return 1 + std::max(getHeight(node->getLeft()), getHeight(node->getRight()));
    }

    /// <summary>
    /// –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞ AVL-–¥–µ—Ä–µ–≤–∞.
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(1)
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, –≤–æ–∫—Ä—É–≥ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç.
    /// –≠—Ç–æ —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–µ—Ç –ø—Ä–∞–≤—ã–º –ø–æ–¥–¥–µ—Ä–µ–≤–æ–º –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞, —Å—Ç–∞–≤—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    /// –ø—Ä–∞–≤–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞. –≠—Ç–æ—Ç —É–∑–µ–ª –±—É–¥–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å —É–∑–µ–ª, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ.
    /// </returns>
    AVLTreeNodule<T>* rotateRight(AVLTreeNodule<T>* node) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
        AVLTreeNodule<T>* temp = node->getLeft();

        // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –ª–µ–≤–æ–≥–æ —É–∑–ª–∞ –≤–Ω–∏–∑
        node->noduleLeft = temp->getRight();

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞
        temp->noduleRight = node;

        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –æ–±–æ–∏—Ö —É–∑–ª–æ–≤
        renewBalanceFactor(node);
        renewBalanceFactor(temp);

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞
        return temp;
    }

    /// <summary>
    /// –í—ã–ø–æ–ª–Ω—è–µ—Ç –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞ AVL-–¥–µ—Ä–µ–≤–∞.
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(1)
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, –≤–æ–∫—Ä—É–≥ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç.
    /// –≠—Ç–æ—Ç —É–∑–µ–ª —Å—Ç–∞–Ω–µ—Ç –ª–µ–≤—ã–º –ø–æ–¥–¥–µ—Ä–µ–≤–æ–º –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–Ω—è.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞, —Å—Ç–∞–≤—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    /// –ª–µ–≤–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞. –≠—Ç–æ—Ç —É–∑–µ–ª –±—É–¥–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å —É–∑–µ–ª, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ.
    /// </returns>
    AVLTreeNodule<T>* rotateLeft(AVLTreeNodule<T>* node) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
        AVLTreeNodule<T>* temp = node->getRight();

        // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –ø—Ä–∞–≤–æ–≥–æ —É–∑–ª–∞ –≤–Ω–∏–∑
        node->noduleRight = temp->getLeft();

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞
        temp->noduleLeft = node;

        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –æ–±–æ–∏—Ö —É–∑–ª–æ–≤
        renewBalanceFactor(node);
        renewBalanceFactor(temp);

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞
        return temp;
    }

    /// <summary>
    /// –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç —É–∑–µ–ª AVL-–¥–µ—Ä–µ–≤–∞, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –µ–≥–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ,
    /// –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å O(log2(n))
    /// <param name="node">–£–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å. –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–≤–µ–Ω nullptr.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª. –ï—Å–ª–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π —É–∑–µ–ª —Ä–∞–≤–µ–Ω nullptr,
    /// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è nullptr.
    /// </returns>
    AVLTreeNodule<T>* balanceTree(AVLTreeNodule<T>* node) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É–∑–µ–ª –ø—É—Å—Ç—ã–º
        if (node == nullptr) {
            return nullptr;
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞
        renewBalanceFactor(node);

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–∑—ã–≤–∞–µ—Ç –ª–∏ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –¥–∏—Å–±–∞–ª–∞–Ω—Å
        if (node->balanceFactor > 1) {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–π —Ç–∏–ø –ø–æ–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è
            // –ï—Å–ª–∏ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –ª–µ–≤–æ–≥–æ —É–∑–ª–∞ –≤—ã—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –ø—Ä–∞–≤–æ–º—É –ø–æ–¥–¥–µ—Ä–µ–≤—É —ç—Ç–æ–≥–æ –∂–µ —É–∑–ª–∞
            // –¢–æ –æ–¥–∏–Ω –ø—Ä–∞–≤—ã–π
            if (getHeight(node->getLeft()->getLeft()) >= getHeight(node->getLeft()->getRight())) {
                // –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç
                node = rotateRight(node);
            }
            // –ï—Å–ª–∏ –≤—ã—Å–æ—Ç–∞ –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –ª–µ–≤–æ–≥–æ —É–∑–ª–∞ –±–æ–ª—å—à–µ, —Ç–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç 
            // –¥–≤–æ–π–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞
            else {
                // –î–≤–æ–π–Ω–æ–π –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç'
                // –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ –ª–µ–≤–æ–º —É–∑–ª–µ
                node->noduleLeft = rotateLeft(node->getLeft());
                // –ê –∑–∞—Ç–µ–º –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–º —É–∑–ª–µ, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å
                node = rotateRight(node);
            }
        }
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–∑—ã–≤–∞–µ—Ç –ª–∏ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –¥–∏—Å–±–∞–ª–∞–Ω—Å
        else if (node->balanceFactor < -1) {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–π —Ç–∏–ø –ø–æ–≤–æ—Ä–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è
            // –ï—Å–ª–∏ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –ø—Ä–∞–≤–æ–≥–æ —É–∑–ª–∞ –≤—ã—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –ª–µ–≤–æ–º—É –ø–æ–¥–¥–µ—Ä–µ–≤—É
            // –¢–æ –æ–¥–∏–Ω–∞—Ä–Ω–æ –≤–ø—Ä–∞–≤–æ
            if (getHeight(node->getRight()->getRight()) >= getHeight(node->getRight()->getLeft())) {
                // –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç
                node = rotateLeft(node);
            }
            // –ï—Å–ª–∏ –≤—ã—Å–æ—Ç–∞ –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –ø—Ä–∞–≤–æ–≥–æ —É–∑–ª–∞ –±–æ–ª—å—à–µ, —Ç–æ —ç—Ç–æ —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç 
            // –¥–≤–æ–π–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞
            else {
                // –î–≤–æ–π–Ω–æ–π –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç
                // –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ –ø—Ä–∞–≤–æ–º —É–∑–ª–µ
                node->noduleRight = rotateRight(node->getRight());
                // –ó–∞—Ç–µ–º –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–º —É–∑–ª–µ, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –±–∞–ª–∞–Ω—Å
                node = rotateLeft(node);
            }
        }

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª
        return node;
    }

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —É–∑–ª–∞ –≤ –¥–µ—Ä–µ–≤–æ. –ï—Å–ª–∏ —É–∑–µ–ª —Å —Ç–∞–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç,
    /// –≤—Å—Ç–∞–≤–∫–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, –∏ –¥–µ—Ä–µ–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(log2(n))
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, –∫—É–¥–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –≤—Å—Ç–∞–≤–∫–∞.
    /// –ï—Å–ª–∏ –¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ nullptr, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —É–∑–µ–ª.</param>
    /// <param name="data">–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –¥–µ—Ä–µ–≤–æ.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—ã–π —É–∑–µ–ª, –ª–∏–±–æ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —É–∑–µ–ª –ø–æ—Å–ª–µ 
    /// –≤—Å—Ç–∞–≤–∫–∏, –ø—Ä–∏ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º.
    /// </returns>
    AVLTreeNodule<T>* insertNode(AVLTreeNodule<T>* node, const T& data) {
        // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –ø—É—Å—Ç–æ–π, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —É–∑–µ–ª —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        if (node == nullptr) {
            return new AVLTreeNodule<T>(data);
        }

        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—å—à–µ, —á–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
        // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—Å—Ç–∞–≤–∫—É –≤ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
        if (data < node->noduleData) {
            node->noduleLeft = insertNode(node->getLeft(), data);
        }
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ, —á–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
        // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—Å—Ç–∞–≤–∫—É –≤ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
        else if (data > node->noduleData) {
            node->noduleRight = insertNode(node->getRight(), data);
        }

        // –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–µ—Ä–µ–≤–∞
        return balanceTree(node);
    }

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —É–∑–ª–∞ –∏–∑ –¥–µ—Ä–µ–≤–∞. –ï—Å–ª–∏ —É–∑–µ–ª —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω,
    /// –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(log2(n))
    /// –¥–µ—Ä–µ–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —É–¥–∞–ª–µ–Ω–∏–µ.
    /// –ï—Å–ª–∏ –¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ nullptr, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nullptr, —á—Ç–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ —Ç–æ–º,
    /// —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ.</param>
    /// <param name="data">–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –¥–µ—Ä–µ–≤–∞.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—ã–π –∫–æ—Ä–µ–Ω—å –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —É–∑–ª–∞,
    /// –ø—Ä–∏ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º.
    /// </returns>
    AVLTreeNodule<T>* deleteNode(AVLTreeNodule<T>* node, const T& data) {
        // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –ø—É—Å—Ç–æ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º nullptr
        if (node == nullptr) {
            return nullptr;
        }

        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—å—à–µ, —á–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
        // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ –≤ –ª–µ–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
        if (data < node->noduleData) {
            node->noduleLeft = deleteNode(node->getLeft(), data);
        }
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ, —á–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
        // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
        else if (data > node->noduleData) {
            node->noduleRight = deleteNode(node->getRight(), data);
        }
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã, –∑–Ω–∞—á–∏—Ç –º—ã –Ω–∞—à–ª–∏ —É–∑–µ–ª –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
        else {
            // –°–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —É —É–∑–ª–∞ –Ω–µ—Ç –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
            if (node->getLeft() == nullptr) {
                AVLTreeNodule<T>* temp = node->getRight();
                delete node; // –£–¥–∞–ª—è–µ–º —É–∑–µ–ª
                return temp; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
            }
            // –°–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —É —É–∑–ª–∞ –Ω–µ—Ç –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
            else if (node->getRight() == nullptr) {
                AVLTreeNodule<T>* temp = node->getLeft();
                delete node; // –£–¥–∞–ª—è–µ–º —É–∑–µ–ª
                return temp; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
            }

            // –°–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —É —É–∑–ª–∞ –µ—Å—Ç—å –æ–±–∞ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
            AVLTreeNodule<T>* temp = node->getRight();
            // –ù–∞—Ö–æ–¥–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–∑–µ–ª –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ (–Ω–∞–∏–±–æ–ª–µ–µ –ª–µ–≤—ã–π —É–∑–µ–ª)
            while (temp->getLeft() != nullptr) {
                temp = temp->getLeft();
            }

            // –ö–æ–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —É–∑–ª–∞ –≤ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
            node->noduleData = temp->noduleData;
            // –£–¥–∞–ª—è–µ–º —É–∑–µ–ª —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
            node->noduleRight = deleteNode(node->getRight(), temp->noduleData);
        }

        // –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–µ—Ä–µ–≤–∞
        return balanceTree(node);
    }


public:
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    AVLTree() : root(nullptr) {}

    // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä.
    ~AVLTree() {
        clear();
    }

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –¥–µ—Ä–µ–≤–æ
    /// </summary>
    /// <param name="data">–ß—Ç–æ –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å</param>
    void insert(const T& data) {
        root = insertNode(root, data);
    }

    /// <summary>
    /// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –¥–µ—Ä–µ–≤–∞
    /// </summary>
    /// <param name="data"></param>
    void remove(const T& data) {
        root = deleteNode(root, data);
    }

    /// <summary>
    /// –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –≤ –≤–∏–¥–µ –≤–µ–∫—Ç–æ—Ä–∞.
    /// –°–æ–∑–¥–∞—ë—Ç –≤–µ–∫—Ç–æ—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–Ω–∞—á–µ–Ω–∏—è —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—Ö–æ–¥–∞ LNR (in-order)
    /// </summary>
    /// <returns>vector –≤ LNR</returns>
    std::vector<T> toVector() {
        std::vector<T> result; // –í–µ–∫—Ç–æ—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞.
        toVectorHelper(root, result); // –ó–∞–ø–æ–ª–Ω—è–µ–º –≤–µ–∫—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞.
        return result; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä.
    }

    /// <summary>
    /// –ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ —É–∑–ª–∞ –≤ –¥–µ—Ä–µ–≤–µ –ø–æ –µ–≥–æ –¥–∞–Ω–Ω—ã–º
    /// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —á–µ—Ä–µ–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é findReqursive
    /// </summary>
    /// <param name="data">–î–∞–Ω–Ω—ã–µ, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –∏—â–µ–º —É–∑–µ–ª</param>
    /// <returns>AVLTreeNodule - —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞</returns>
    AVLTreeNodule<T>* findIt(const T& data) {
        return findReqursive(root, data);
    }

    /// <summary>
    /// –ú–µ—Ç–æ–¥ –æ—á–∏—Å—Ç–∫–∏ –¥–µ—Ä–µ–≤–∞
    /// </summary>
    void clear() {
        if (root)
        {
            clearNode(root);
            root = nullptr;
        }
    }

    /// <summary>
    /// –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —É–∑–ª–∞.
    /// –ï—Å–ª–∏ —É–∑–µ–ª == null, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.
    /// </summary>
    /// <param name="node">–£–∑–µ–ª, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å —Ñ–∞–∫—Ç–æ—Ä.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å —Ñ–∞–∫—Ç–æ—Ä–∞ –¥–ª—è node
    /// </returns> 
    int getBalanceFactor(AVLTreeNodule<T>* node) {
        if (node == nullptr) {
            return 0;
        }

        return node->balanceFactor;
    }

    /// <summary>
    /// –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –±–∞–ª–∞–Ω—Å–∞ —É–∑–ª–∞ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é.
    /// –ï—Å–ª–∏ —É–∑–µ–ª —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞.
    /// –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ out_of_range 
    /// —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ —Ç–æ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.
    /// </summary>
    /// <param name="val">–ó–Ω–∞—á–µ–Ω–∏–µ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã –∏—â–µ–º —É–∑–µ–ª –≤ –¥–µ—Ä–µ–≤–µ.</param>
    /// <returns>
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞ —É–∑–ª–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é.
    /// </returns>
    /// <exception>
    /// –í—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ out_of_range, –µ—Å–ª–∏ —É–∑–µ–ª —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω.
    /// </exception>
    int getBalanceFactorByValue(T val) {
        AVLTreeNodule<T>* node = findIt(val);
        if (node)
        {
            return getBalanceFactor(node);
        }
        else
            throw out_of_range("Value not found");
    }



    /// <summary>
    /// –ö–ª–∞—Å—Å –ò—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –æ–±—Ö–æ–¥–∞ —É–∑–ª–æ–≤ AVL-–¥–µ—Ä–µ–≤–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É LNR (in-order).
    /// –ò—Ç–µ—Ä–∞—Ç–æ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö —É–∑–ª–æ–≤
    /// –¥–µ—Ä–µ–≤–∞ –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
    /// </summary>
    class Iterator {
    private:
        AVLTreeNodule<T>* root; // –ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ü–∏—è
        stack<AVLTreeNodule<T>*> nodeStack; // –°—Ç–µ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–∑–ª–æ–≤ –¥–ª—è –æ–±—Ö–æ–¥–∞

    public:
        /// <summary>
        /// –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞.
        /// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª –∏ –∑–∞–ø–æ–ª–Ω—è—è —Å—Ç–µ–∫
        /// –ª–µ–≤–æ–π –≤–µ—Ç–∫–æ–π –¥–µ—Ä–µ–≤–∞, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ä–Ω—è.
        /// </summary>
        /// <param name="node">–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏.</param>
        Iterator(AVLTreeNodule<T>* node) {
            root = node;
            pushLeftBranch(node);
        }

        /// <summary>
        /// –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ.
        /// –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–≤–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Ä–∞–≤–Ω—ã.
        /// –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–µ —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö
        /// –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç.
        /// </summary>
        /// <param name="other">–î—Ä—É–≥–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.</param>
        /// <returns>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –Ω–µ —Ä–∞–≤–Ω—ã; –∏–Ω–∞—á–µ false.</returns>
        bool operator!=(const Iterator& other) const {
            return !(hasNext() == false && other.hasNext() == false);
        }

        /// <summary>
        /// –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ.
        /// –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–≤–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.
        /// –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏ –æ–±–∞ –æ–Ω–∏ –ª–∏–±–æ –∏–º–µ—é—Ç,
        /// –ª–∏–±–æ –Ω–µ –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
        /// </summary>
        /// <param name="other">–î—Ä—É–≥–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.</param>
        /// <returns>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–≤–Ω—ã; –∏–Ω–∞—á–µ false.</returns>
        bool operator==(const Iterator& other) const {
            return nodeStack.empty() == other.nodeStack.empty();
        }

        /// <summary>
        /// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
        /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å—Ç–µ–∫ –Ω–µ –ø—É—Å—Ç, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ
        /// –µ—Å—Ç—å —É–∑–ª—ã –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏, –∏–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false.
        /// </summary>
        /// <returns>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç; –∏–Ω–∞—á–µ false.</returns>
        bool hasNext() const {
            return !nodeStack.empty();
        }

        /// <summary>
        /// –û–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è.
        /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É–∑–ª–∞ –≤ —Å—Ç–µ–∫–µ.
        /// </summary>
        /// <returns>–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ —Ç–∏–ø–∞ T.</returns>
        T& operator*() const {
            return nodeStack.top()->noduleData;
        }

        /// <summary>
        /// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º —É–∑–ª–µ.
        /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞
        /// –Ω–µ –∏–∑–º–µ–Ω—è—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
        /// </summary>
        /// <returns>–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ —Ç–∏–ø–∞ T.</returns>
        T& data() {
            return nodeStack.top()->noduleData;
        }

        /// <summary>
        /// –û–ø–µ—Ä–∞—Ç–æ—Ä –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞.
        /// –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
        /// –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä.
        /// </summary>
        /// <returns>–°—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä.</returns>
        Iterator& operator++() {
            return next();
        }

        /// <summary>
        /// –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä.
        /// –û—á–∏—â–∞–µ—Ç —Å—Ç–µ–∫ –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ, –Ω–∞—á–∏–Ω–∞—è —Å –ª–µ–≤–æ–π –≤–µ—Ç–≤–∏
        /// –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É–∑–ª–∞, –∫–∞–∫ –±—É–¥—Ç–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –∑–∞–Ω–æ–≤–æ.
        /// </summary>
        void reset() {
            while (!nodeStack.empty())
                nodeStack.pop();
            pushLeftBranch(root);
        }

        /// <summary>
        /// –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.
        /// –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–µ–∫, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
        /// –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—Ö–æ–¥–∞. –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –±–æ–ª—å—à–µ /// –Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏.
        /// </summary>
        /// <returns>–°—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ü–µ–ø–æ—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞.</returns>
        /// <exception>–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç std::out_of_range, –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</exception>
        Iterator& next() {
            AVLTreeNodule<T>* currentNode;
            if (!hasNext()) {
                throw std::out_of_range("No more elements in the iterator");
            }
            currentNode = nodeStack.top();
            nodeStack.pop();
            pushLeftBranch(currentNode->getRight());
            return *this;
        }

    private:
        /// <summary>
        /// –ú–µ—Ç–æ–¥ –ø–æ–º–µ—â–∞–µ—Ç –≤—Å–µ –ª–µ–≤—ã–µ —É–∑–ª—ã —É–∑–ª–∞ node –≤ nodeStack.
        /// –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–µ–∫–∞
        /// –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ —É–∑–ª–∞–º –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—Ö–æ–¥–∞ LNR.
        /// </summary>
        /// <param name="node">–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∑–µ–ª, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–µ–∫.</param>
        void pushLeftBranch(AVLTreeNodule<T>* node) {
            while (node != nullptr) {
                nodeStack.push(node);
                node = node->getLeft();
            }
        }
    };

    /// <summary>
    /// –í–æ–∑—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –Ω–∞—á–∞–ª–æ –¥–µ—Ä–µ–≤–∞
    /// </summary>
    /// <returns>–ò—Ç–µ—Ä–∞—Ç–æ—Ä</returns>
    Iterator begin() const {
        return Iterator(root);
    }

    /// <summary>
    /// –°—Ç–∞–≤–∏—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∫–æ–Ω–µ—Ü –¥–µ—Ä–µ–≤–∞
    /// </summary>
    /// <returns></returns>
    Iterator end() const {
        return Iterator(nullptr);
    }

    /// <summary>
    /// –ê –≤—ã —Ç–æ–∂–µ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Ä—ã–¥–∞—Ç—å, –∫–æ–≥–¥–∞ –¥–µ–ª–æ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤–∞–º–∏ –∫–æ–¥–∞?
    /// </summary>
    static void testItImCrying() {
        AVLTree<int> myTreeIsBigItsRealyRealyBig;

        // –í—Å—Ç–∞–≤–∏–º, –ø–æ—Å–º–æ—Ç—Ä–∏–º —á–µ –¥–∞ –∫–∞–∫
        myTreeIsBigItsRealyRealyBig.insert(24);
        myTreeIsBigItsRealyRealyBig.insert(9);
        myTreeIsBigItsRealyRealyBig.insert(19);
        // –ù—É –≤–æ—Ç –Ω–∞–π–¥–µ—Ç –æ–Ω –µ–≥–æ
        assert(myTreeIsBigItsRealyRealyBig.findIt(9) != nullptr);  
        // –ò —ç—Ç–æ—Ç –Ω–∞–π–¥–µ—Ç—Ç—Ç—Ç
        assert(myTreeIsBigItsRealyRealyBig.findIt(19) != nullptr); 
        // –ê –≤–æ—Ç —ç—Ç–æ—Ç —É–∂–µ –Ω–µ—Ç :(
        assert(myTreeIsBigItsRealyRealyBig.findIt(29) == nullptr); 

        // –ü–æ–ø–ª–∞—á–µ–º –∏–º —É–¥–∞–ª–∏–º –µ–≥–æ
        myTreeIsBigItsRealyRealyBig.remove(24);
        // –¢–µ–ø–µ—Ä—å –µ–≥–æ –Ω–µ–µ–µ–µ–µ–µ—Ç üò≠
        assert(myTreeIsBigItsRealyRealyBig.findIt(24) == nullptr); 

        // –î–∞, —É–¥–∞–ª–∏–º –µ–≥–æ –ø–æ–¥ –∫–æ—Ä–µ–Ω—å
        myTreeIsBigItsRealyRealyBig.remove(9);
        // –ü–æ–∫–∞ –ø–æ–∫–∞
        assert(myTreeIsBigItsRealyRealyBig.findIt(9) == nullptr);

        // –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–∑—Ä–∞–∫–∞ —É–∑–ª–∞, –Ω–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –¥–∞–µ—Ç
        myTreeIsBigItsRealyRealyBig.remove(100); 

        // –ü–æ—á–∏—Å—Ç–∏–ª–∏—Å—è
        myTreeIsBigItsRealyRealyBig.clear();
        assert(myTreeIsBigItsRealyRealyBig.findIt(19) == nullptr);
        // –ò—Ç–µ—Ä–∞—Ç–æ—Ä —Ç–æ –ø—É—Å—Ç–æ–π
        assert(myTreeIsBigItsRealyRealyBig.begin() == myTreeIsBigItsRealyRealyBig.end()); 

        // –ö—Å—Ç–∞, –∏—Ç–µ—Ä–∞—Ç–æ—Ä
        AVLTree<int> iteratorim;
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
        iteratorim.insert(1);
        iteratorim.insert(2);
        iteratorim.insert(3);

        AVLTree<int>::Iterator it = iteratorim.begin();
        for (int val : iteratorim) {
            cout << val << ": BibOBobA :";
        }
        assert(it != myTreeIsBigItsRealyRealyBig.end()); // –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç
        assert(*it == 1);         // –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1
        ++it;
        assert(*it == 2);         // –í—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 2
        ++it;
        assert(*it == 3);         // –¢—Ä–µ—Ç–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 3
        ++it;
        assert(it == myTreeIsBigItsRealyRealyBig.end()); // –î–æ—Å—Ç–∏–≥–Ω—É—Ç—å –∫–æ–Ω—Ü–∞

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Ç–∏ –∫—Ä—É—á–µ–Ω—ã—Ö
        vector<int> lechebniyOgurec;
        size_t i;

        // –ü–æ–≤–æ—Ä–æ—Ç –ª–µ–≤–æ –ª–µ–≤–æ (–º–∞–ª—ã–π –ª–µ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç)
        myTreeIsBigItsRealyRealyBig.insert(3);
        myTreeIsBigItsRealyRealyBig.insert(2);
        myTreeIsBigItsRealyRealyBig.insert(5);
        myTreeIsBigItsRealyRealyBig.insert(4);
        myTreeIsBigItsRealyRealyBig.insert(7);
        myTreeIsBigItsRealyRealyBig.insert(6);
        myTreeIsBigItsRealyRealyBig.insert(8);
        lechebniyOgurec.clear();
        lechebniyOgurec = { 2, 3, 4, 5, 6, 7, 8 };
        i = 0;
        for (int value : myTreeIsBigItsRealyRealyBig)
        {
            assert(abs(myTreeIsBigItsRealyRealyBig.getBalanceFactorByValue(value)) < 2);
            i++;
        }
        myTreeIsBigItsRealyRealyBig.clear();

        // –ü–æ–≤–æ—Ä–æ—Ç –ø—Ä–∞–≤–æ –ø—Ä–∞–≤–æ (–º–∞–ª—ã–π –ø—Ä–∞–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç)
        myTreeIsBigItsRealyRealyBig.insert(8);
        myTreeIsBigItsRealyRealyBig.insert(9);
        myTreeIsBigItsRealyRealyBig.insert(6);
        myTreeIsBigItsRealyRealyBig.insert(7);
        myTreeIsBigItsRealyRealyBig.insert(4);
        myTreeIsBigItsRealyRealyBig.insert(5);
        myTreeIsBigItsRealyRealyBig.insert(2);
        lechebniyOgurec = { 2, 4, 5, 6, 7, 8, 9 };
        i = 0;
        for (int value : myTreeIsBigItsRealyRealyBig)
        {
            assert(abs(myTreeIsBigItsRealyRealyBig.getBalanceFactorByValue(value)) < 2);
            i++;
        }
        myTreeIsBigItsRealyRealyBig.clear();

        // –ü–æ–≤–æ—Ä–æ—Ç –ª–µ–≤–æ –ø—Ä–∞–≤–æ
        myTreeIsBigItsRealyRealyBig.insert(3);
        myTreeIsBigItsRealyRealyBig.insert(2);
        myTreeIsBigItsRealyRealyBig.insert(7);
        myTreeIsBigItsRealyRealyBig.insert(5);
        myTreeIsBigItsRealyRealyBig.insert(4);
        myTreeIsBigItsRealyRealyBig.insert(6);
        myTreeIsBigItsRealyRealyBig.insert(8);
        AVLTree<int>::Iterator it5 = myTreeIsBigItsRealyRealyBig.begin();
        lechebniyOgurec.clear();
        lechebniyOgurec = { 2, 3, 4, 5, 6, 7, 8 };
        i = 0;
        for (int value : myTreeIsBigItsRealyRealyBig)
        {
            assert(*it5 == lechebniyOgurec[i]);
            ++it5;
            i++;
        }
        myTreeIsBigItsRealyRealyBig.clear();

        // –ü–æ–≤–æ—Ä–æ—Ç –ø—Ä–∞–≤–æ –ª–µ–≤–æ
        myTreeIsBigItsRealyRealyBig.insert(7);
        myTreeIsBigItsRealyRealyBig.insert(8);
        myTreeIsBigItsRealyRealyBig.insert(3);
        myTreeIsBigItsRealyRealyBig.insert(2);
        myTreeIsBigItsRealyRealyBig.insert(5);
        myTreeIsBigItsRealyRealyBig.insert(4);
        myTreeIsBigItsRealyRealyBig.insert(6);
        lechebniyOgurec.clear();
        lechebniyOgurec = { 2, 3, 4, 5, 6, 7, 8 };
        i = 0;
        for (int value : myTreeIsBigItsRealyRealyBig)
        {
            assert(abs(myTreeIsBigItsRealyRealyBig.getBalanceFactorByValue(value)) < 2);
            i++;
        }
        myTreeIsBigItsRealyRealyBig.clear();

        std::cout << "–Ø –ø–ª–∞–∫ –¥–µ–ª–∞—Ç—å —Ö–æ—á—É :(" << std::endl;
    }

};
/// <summary>
/// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ AVL-–¥–µ—Ä–µ–≤–µ.
/// –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nullptr.
/// </summary>
/// <param name="node">–£–∑–µ–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –ø–æ–∏—Å–∫.
/// –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ nullptr, –ø–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –±–µ–∑—É—Å–ø–µ—à–Ω–æ.</param>
/// <param name="data">–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ –≤ –¥–µ—Ä–µ–≤–µ.</param>
/// <returns>
/// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∑–µ–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏—Å–∫–æ–º—ã–µ –¥–∞–Ω–Ω—ã–µ,
/// –∏–ª–∏ nullptr, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.
/// </returns>
template<typename T>
AVLTreeNodule<T>* findReqursive(AVLTreeNodule<T>* node, const T& data) {
    // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –ø—É—Å—Ç–æ–π, –∑–Ω–∞—á–∏—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
    if (node == nullptr) {
        return nullptr;
    }

    // –ï—Å–ª–∏ –∏—Å–∫–æ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
    // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–æ–∏—Å–∫ –≤ –ª–µ–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
    if (data < node->noduleData) {
        return findReqursive(node->getLeft(), data);
    }
    // –ï—Å–ª–∏ –∏—Å–∫–æ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
    // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–æ–∏—Å–∫ –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
    else if (data > node->noduleData) {
        return findReqursive(node->getRight(), data);
    }
    // –ï—Å–ª–∏ –∏—Å–∫–æ–º—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã –¥–∞–Ω–Ω—ã–º —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞,
    // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞
    else {
        return node;
    }
}


/// <summary>
/// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –¥–µ—Ä–µ–≤–∞ –ø–æ —É–∑–ª—É node
/// –ï—Å–ª–∏ node –ø—É—Å—Ç, —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
/// </summary>
/// <param name="node">–£–∑–µ–ª, —á—Ç–æ –æ—á–∏—â–∞–µ—Ç—Å—è</param>
template<typename T>
void clearNode(AVLTreeNodule<T>* node) {
    if (node == nullptr) {
        return;
    }

    // –°–ª–µ–≤–∞
    clearNode(node->getLeft());
    // –°–ø—Ä–∞–≤–∞
    clearNode(node->getRight());
    delete node;
}

/// <summary>
/// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –≤ –≤–∏–¥–µ –≤–µ–∫—Ç–æ—Ä–∞.
/// –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞ –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä.
/// –û–±—Ö–æ–¥–∏—Ç –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∑–ª–∞ –∏ –æ–±—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ.
/// </summary>
/// <param name="node">–£–∑–µ–ª, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ–º</param>
/// <param name="result">–¢–æ, –∫—É–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∏—à–µ—Ç—Å—è</param>
template<typename T>
void toVectorHelper(AVLTreeNodule<T>* node, std::vector<T>& result) {
    if (node == nullptr) {
        return; // –ï—Å–ª–∏ —É–∑–µ–ª –ø—É—Å—Ç–æ–π, –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è.
    }

    // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
    toVectorHelper(node->getLeft(), result);
    // –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ –≤ –≤–µ–∫—Ç–æ—Ä
    result.push_back(node->noduleData);
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
    toVectorHelper(node->getRight(), result);
}
